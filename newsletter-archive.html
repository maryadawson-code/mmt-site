<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter Archive | Mission Meets Tech</title>
    <meta name="description" content="Browse all past issues of Mission Meets Tech - federal health IT intelligence for decision-makers.">
    
    <!-- Open Graph / Social Sharing -->
    <meta property="og:title" content="Mission Meets Tech Newsletter Archive">
    <meta property="og:description" content="Federal health IT intelligence for decision-makers. Browse all past issues.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://missionmeetstech.com/newsletter-archive">
    <meta property="og:image" content="https://missionmeetstech.com/og-default.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Mission Meets Tech Newsletter Archive">
    <meta name="twitter:description" content="Federal health IT intelligence for decision-makers.">
    <meta name="twitter:image" content="https://missionmeetstech.com/og-default.png">
    
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PRG234VSXM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-PRG234VSXM');
    </script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="mmt-logo-nav.png" alt="Mission Meets Tech" class="logo-image">
            </a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="newsletter.html">Newsletter</a>
                <a href="podcast.html">Podcast</a>
                <a href="resources.html">Resources</a>
                <a href="about.html">About</a>
                <a href="https://www.linkedin.com/newsletters/7307800960485969920/" class="nav-cta" target="_blank" rel="noopener">Subscribe</a>
            </div>
            <div class="hamburger" onclick="this.classList.toggle('active'); document.querySelector('.nav-links').classList.toggle('active')">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <main>
        <section class="hero hero-small">
            <div class="hero-content">
                <span class="section-label">ARCHIVE</span>
                <h1>Newsletter <span class="highlight">Archive</span></h1>
                <p class="hero-subtitle">Every issue of Mission Meets Tech, from the latest to the first.</p>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <div class="archive-header">
                    <div class="archive-count">
                        <span id="issue-count">--</span> Issues Published
                    </div>
                    <a href="https://www.linkedin.com/newsletters/7307800960485969920/" class="cta-button" target="_blank" rel="noopener">
                        <i class="fab fa-linkedin"></i> Subscribe for New Issues
                    </a>
                </div>
                
                <div id="newsletter-archive" class="archive-grid">
                    <div class="loading-spinner">
                        <i class="fas fa-spinner fa-spin"></i> Loading archive...
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <img src="mmt-logo.png" alt="Mission Meets Tech" class="footer-logo">
                <p>Federal health IT intelligence for decision-makers.</p>
            </div>
            <div class="footer-links">
                <a href="index.html">Home</a>
                <a href="newsletter.html">Newsletter</a>
                <a href="podcast.html">Podcast</a>
                <a href="resources.html">Resources</a>
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
            </div>
        </div>
        <div class="footer-disclaimer">
            <p><strong>Disclaimer:</strong> The views expressed on this site are my own and do not represent the official position of any organization. This content is for informational purposes only and does not constitute professional advice.</p>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 Mission Meets Tech. All rights reserved.</p>
        </div>
    </footer>

    <script src="main.js"></script>
    <script>
        // Load and render newsletter archive
        async function loadArchive() {
            const container = document.getElementById('newsletter-archive');
            const countEl = document.getElementById('issue-count');
            
            try {
                // Fixed: newsletters.json is at root, not in data/ folder
                const response = await fetch('newsletters.json');
                const newsletters = await response.json();
                
                countEl.textContent = newsletters.length;
                
                if (newsletters.length === 0) {
                    container.innerHTML = '<p class="no-results">No newsletters yet. Check back soon!</p>';
                    return;
                }
                
                container.innerHTML = newsletters.map((item, index) => `
                    <article class="archive-card ${index === 0 ? 'featured' : ''}">
                        ${index === 0 ? '<span class="latest-badge">LATEST</span>' : ''}
                        <div class="archive-date">${item.date}</div>
                        <h3 class="archive-title">${item.title}</h3>
                        <p class="archive-description">${item.description}</p>
                        <div class="archive-tags">
                            ${item.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                        <div class="archive-actions">
                            <a href="${item.url}" class="read-link" target="_blank" rel="noopener">
                                Read on LinkedIn <i class="fas fa-external-link-alt"></i>
                            </a>
                            <div class="share-buttons">
                                <button onclick="shareLinkedIn('${encodeURIComponent(item.title)}', '${encodeURIComponent(item.url)}')" title="Share on LinkedIn">
                                    <i class="fab fa-linkedin"></i>
                                </button>
                                <button onclick="shareTwitter('${encodeURIComponent(item.title)}', '${encodeURIComponent(item.url)}')" title="Share on X">
                                    <i class="fab fa-x-twitter"></i>
                                </button>
                                <button onclick="copyLink('${item.url}')" title="Copy link">
                                    <i class="fas fa-link"></i>
                                </button>
                            </div>
                        </div>
                    </article>
                `).join('');
            } catch (error) {
                console.error('Error loading archive:', error);
                container.innerHTML = '<p class="error">Unable to load archive. Please try again later.</p>';
            }
        }
        
        // Social sharing functions
        function shareLinkedIn(title, url) {
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, '_blank', 'width=600,height=400');
        }
        
        function shareTwitter(title, url) {
            window.open(`https://twitter.com/intent/tweet?text=${title}&url=${url}`, '_blank', 'width=600,height=400');
        }
        
        function copyLink(url) {
            navigator.clipboard.writeText(url).then(() => {
                // Show brief confirmation
                const btn = event.target.closest('button');
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i>';
                setTimeout(() => btn.innerHTML = originalHTML, 1500);
            });
        }
        
        // Load on page ready
        document.addEventListener('DOMContentLoaded', loadArchive);
    </script>
</body>
</html>
