<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter Archive | Mission Meets Tech</title>
    <meta name="description" content="Browse all past issues of the Mission Meets Tech newsletter covering federal health IT and defense innovation.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Newsletter Archive | Mission Meets Tech">
    <meta property="og:description" content="Browse all past issues covering federal health IT, defense innovation, and digital health strategy.">
    <meta property="og:image" content="https://missionmeetstech.com/og-default.png">
    <meta property="og:url" content="https://missionmeetstech.com/newsletter-archive.html">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Newsletter Archive | Mission Meets Tech">
    <meta name="twitter:description" content="Browse all past issues of Mission Meets Tech.">
    <meta name="twitter:image" content="https://missionmeetstech.com/og-default.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PRG234VSXM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-PRG234VSXM');
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="mmt-logo-nav.png" alt="Mission Meets Tech">
            </a>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="newsletter.html" class="active">Newsletter</a></li>
                <li><a href="podcast.html">Podcast</a></li>
                <li><a href="resources.html">Resources</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="page-hero">
        <div class="container">
            <h1 class="section-title">Newsletter Archive</h1>
            <p class="page-subtitle">Every issue of Mission Meets Tech, from newest to oldest.</p>
        </div>
    </section>

    <!-- Archive Section -->
    <section class="archive-section">
        <div class="container">
            <!-- Filter/Search -->
            <div class="archive-controls">
                <div class="search-box">
                    <input type="text" id="archive-search" placeholder="Search issues...">
                </div>
                <div class="filter-tags" id="filter-tags">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
            
            <!-- Archive Grid -->
            <div class="archive-grid" id="archive-grid">
                <!-- Populated by JavaScript from newsletters.json -->
            </div>
            
            <div class="archive-empty" id="archive-empty" style="display: none;">
                <p>No issues match your search. Try different keywords.</p>
            </div>
        </div>
    </section>

    <!-- Subscribe CTA -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-card glass-card" data-scroll>
                <h2>Never Miss an Issue</h2>
                <p>Subscribe to get Mission Meets Tech delivered to your inbox every week.</p>
                <a href="https://www.linkedin.com/newsletters/mission-meets-tech-7307800960485969920/" target="_blank" rel="noopener" class="btn btn-primary">Subscribe on LinkedIn</a>
                <p class="form-disclaimer">By subscribing, you'll receive my weekly newsletter. I respect your privacy and never share your information.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <img src="mmt-logo.png" alt="Mission Meets Tech" class="footer-logo">
                    <p>Insights at the intersection of health strategy, policy, and technology.</p>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="newsletter.html">Newsletter</a></li>
                        <li><a href="podcast.html">Podcast</a></li>
                        <li><a href="resources.html">Resources</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-connect">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="https://www.linkedin.com/in/marywomack/" target="_blank" rel="noopener">LinkedIn</a></li>
                        <li><a href="https://feeds.transistor.fm/fed-up-where-mission-meets-reality" target="_blank" rel="noopener">RSS Feed</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- Disclaimer -->
            <div class="footer-disclaimer">
                <p>The views and opinions expressed on this site are my own and do not represent the official position of my employer, any government agency, or any other organization. Content is for informational purposes only and does not constitute legal, financial, or medical advice.</p>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2026 Mary Womack. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="main.js"></script>
    <script>
        let allNewsletters = [];
        let activeFilter = null;
        
        // Load all newsletters
        fetch('newsletters.json')
            .then(response => response.json())
            .then(newsletters => {
                allNewsletters = newsletters;
                renderNewsletters(newsletters);
                renderFilterTags(newsletters);
            })
            .catch(error => console.error('Error loading newsletters:', error));
        
        function renderNewsletters(newsletters) {
            const container = document.getElementById('archive-grid');
            const emptyState = document.getElementById('archive-empty');
            
            container.innerHTML = '';
            
            if (newsletters.length === 0) {
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            newsletters.forEach(issue => {
                const card = document.createElement('div');
                card.className = 'issue-card glass-card';
                
                const tags = issue.tags ? issue.tags.map(tag => `<span class="tag">${tag}</span>`).join('') : '';
                
                card.innerHTML = `
                    <span class="issue-date">${issue.date}</span>
                    <h3>${issue.title}</h3>
                    <p>${issue.description}</p>
                    <div class="issue-tags">${tags}</div>
                    <a href="${issue.url}" target="_blank" rel="noopener" class="btn btn-text">Read on LinkedIn â†’</a>
                `;
                
                container.appendChild(card);
            });
        }
        
        function renderFilterTags(newsletters) {
            const container = document.getElementById('filter-tags');
            const allTags = new Set();
            
            newsletters.forEach(issue => {
                if (issue.tags) {
                    issue.tags.forEach(tag => allTags.add(tag));
                }
            });
            
            // Add "All" button
            const allBtn = document.createElement('button');
            allBtn.className = 'filter-tag active';
            allBtn.textContent = 'All';
            allBtn.addEventListener('click', () => {
                setActiveFilter(null, allBtn);
            });
            container.appendChild(allBtn);
            
            // Add tag buttons
            allTags.forEach(tag => {
                const btn = document.createElement('button');
                btn.className = 'filter-tag';
                btn.textContent = tag;
                btn.addEventListener('click', () => {
                    setActiveFilter(tag, btn);
                });
                container.appendChild(btn);
            });
        }
        
        function setActiveFilter(tag, btn) {
            // Update active states
            document.querySelectorAll('.filter-tag').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            activeFilter = tag;
            filterNewsletters();
        }
        
        function filterNewsletters() {
            const searchTerm = document.getElementById('archive-search').value.toLowerCase();
            
            let filtered = allNewsletters;
            
            // Filter by tag
            if (activeFilter) {
                filtered = filtered.filter(issue => 
                    issue.tags && issue.tags.includes(activeFilter)
                );
            }
            
            // Filter by search
            if (searchTerm) {
                filtered = filtered.filter(issue => 
                    issue.title.toLowerCase().includes(searchTerm) ||
                    issue.description.toLowerCase().includes(searchTerm) ||
                    (issue.tags && issue.tags.some(tag => tag.toLowerCase().includes(searchTerm)))
                );
            }
            
            renderNewsletters(filtered);
        }
        
        // Search input listener
        document.getElementById('archive-search').addEventListener('input', filterNewsletters);
    </script>
</body>
</html>
